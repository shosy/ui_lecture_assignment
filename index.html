<html>
  <head>
    <meta charset="UTF-8"/>
    <title>BranchConnect</title>
    <link rel="shortcut icon" href="data/img/BranchConnect-01.ico"/>
    <link href="style/main.css" rel="stylesheet" type="text/css"/>
    <!-- <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=0.6, maximum-scale=0.8, user-scalable=no, minimal-ui"/> -->

    <script>(language='javascript', type='text/javascript', src='https://jsconsole.com/js/remote.js?branchconnect')</script>
    <script language="javascript" type="text/javascript" src="lib/p5.js"></script>
    <script language="javascript" type="text/javascript" src="lib/p5.dom.js"></script>
    <!-- <script language="javascript" type="text/javascript" src="lib/jquery.min.js"></script> -->

    <script language="javascript" src="data/br20/plate.json"></script>
    <script language="javascript" src="data/br12/plate.json"></script>
    <script language="javascript" type="text/javascript" src="js/Events.js"></script>
    <script language="javascript" type="text/javascript" src="js/UtilityUI.js"></script>
    <script language="javascript" type="text/javascript" src="js/UtilityDraw.js"></script>
    <script language="javascript" type="text/javascript" src="js/UtilityCalc.js"></script>
    <script language="javascript" type="text/javascript" src="js/Branch.js"></script>
    <script language="javascript" type="text/javascript" src="js/LibraryBranch.js"></script>
    <script language="javascript" type="text/javascript" src="js/Boundary.js"></script>
    <script language="javascript" type="text/javascript" src="js/Joint.js"></script>
    <script language="javascript" type="text/javascript" src="js/Group.js"></script>
    <script language="javascript" type="text/javascript" src="js/Score.js"></script>
    <script language="javascript" type="text/javascript" src="js/UpdateJoints.js"></script>
    <!-- main.js has to be loaded in the end! -->
    <script language="javascript" type="text/javascript" src="js/main.js"></script> 
    
  </head>
  <body>
    <div class="container" id="container">
      <div class="heading">
        <instruction>
          <!-- <h1> Goal: Connect 4 corners by moving branches </h1> -->
          <!-- <h1> How to use: </h1>  -->
          <!-- <p> - Select a branch by Enter key</p> -->
          <!-- <p> - Move the branch by Up, Down, Left, Right keys </p> -->
          <!-- <p> - Rotate the branch by Left or Right keys with Control key </p> -->
          <!-- <h1> Colors: </h1> -->
          <!-- <p> - Green dots: valid joints. Red dots: invalid joints</p> -->
          <!-- <p> - Invalid group: Red branches. Valid group: other colors.</p> -->
          <!-- <p> Mirror the branch by Shift key </p> -->
          <h1>枝レイアウトゲーム</h1>
          <h2>ルール</h2>
          <ul>
            <li>枝を選択し、移動・回転・反転させることができます。
              <ul>
                <li>選択している枝の中心には、<span style="background-color:rgba(255,0,0,0.2);">半透明な赤い</span>円が表示されます。</li>
              </ul>
            </li>
            <li>5つの枝を動かして、正方形の四隅（<span style="background-color: #fff000;">黄色</span>で点滅表示）に接続させると、クリア！
              <ul>
                <li>四隅と接続していない枝は<span style="background-color:#ff3200;">赤く</span>表示されます。</li>
                <li>そうでない枝は、つながっている枝のすべてが同じ色で表示されます。</li>
              </ul>
            </li>
            <li>枝どうしをつなげるときには、交わる角度をある程度大きくし、端で交わらないようにしてください。
              <ul>
                <li>不適切な交差点は<span style="background-color:#ff0000;">赤色</span>の丸で表示されます。</li>
                <li>適切な交差点は<span style="background-color:#00ff00;">緑色</span>の丸で表示されます。</li>
              </ul>
            </li>
            <li>例えば不適切な枝の配置として、次のようなものがあります。
              <ul>
                <li>(図1) 孤立している枝がある。</li>
                <li>(図2) 2つの枝の交わる角度が浅い。</li>
                <li>(図3) 枝の端でつながっている。</li>
              </ul>
            </li>
            <table>
              <tr>
                <td><img src="./img/invalids/island.png" width="128" height="128"></td>
                <td><img src="./img/invalids/invalid_angle.png" width="128" height="128"></td>
                <td><img src="./img/invalids/edge_joint.png" width="128" height="128"></td>
              </tr>
              <tr>
                <td align="center">図1</td>
                <td align="center">図2</td>
                <td align="center">図3</td>
              </tr>
            </table>
            <li>クリアすると、プレイ画面に"Connected!"と表示されます。</li>
            <li>クリアしたら、さらなる高得点に挑戦してください。</li>
          </ul>
          <h2>操作方法</h2>
          <ul>
            <li>枝の選択：<u>Click</u> または <u>Enterキー</u></li>
            <li>枝の移動：<u>Drag</u> または <u>矢印キー</u></li>
            <li>枝の回転：<u>Shiftキー+Drag</u> または <u>Shiftキー+左右キー</u></li>
            <li>枝の反転：<u>DoubleClick</u> または <u>Altキー</u></li>
          </ul>
        </instruction>


        <h2>プレイ画面</h2>
        <div class="scores-container">
          <div class="score-button score-container">100</div>
          <div class="score-button best-container">100</div>
          <div>
            <button type="button" onclick="OnButtonClick_save();">画像を保存する</button>
            <button type="button" onclick="OnButtonClick_bestscore();">ベストスコアを見る</button>
          </div>
        </div>
      </div>

      <div class="game-container">
        <div id="canvas0"></div>
      </div>
    </div>
  </body>
</html>
